<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PNEUMOweb - Web-based pneumonia screening system</title>

    <!-- PWA manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="PNEUMOweb - Web-based pneumonia screening system for assessing pneumonia risk factors and symptoms.">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <nav class="navigation">
                <a href="index.html" class="nav-link">Home</a>
                <a href="pages.html?page=background" class="nav-link">Background</a>
                <a href="pages.html?page=faq" class="nav-link">FAQ</a>
                <a href="pages.html?page=feedback" class="nav-link">FEEDBACK</a>
            </nav>
            <div class="language-toggle">
                <select id="languageSelect">
                    <option value="en">English</option>
                    <option value="fil">Filipino</option>
                </select>
            </div>
        </header>

        <!-- Title Section -->
        <section class="title-section">
            <div class="logo-container">
                <div class="logo-placeholder">
                    <img src="logo.png" alt="PNEUMOweb Logo" class="logo-img">
                </div>
            </div>
            <div class="title-content">
                <h1 class="main-title">PNEUMOweb</h1>
                <p class="subtitle">Web-based pneumonia screening system</p>
            </div>
        </section>

        <!-- Body Section -->
        <section class="body-section">
            <div class="carousel-container">
                <div class="carousel-slide active" data-index="0">
                    <div class="slide-content"><p></p></div>
                </div>
                <div class="carousel-slide" data-index="1">
                    <div class="slide-content"><p></p></div>
                </div>
                <div class="carousel-slide" data-index="2">
                    <div class="slide-content"><p></p></div>
                </div>
                <div class="carousel-slide" data-index="3">
                    <div class="slide-content"><p></p></div>
                </div>
                <div class="carousel-slide" data-index="4">
                    <div class="slide-content"><p></p></div>
                </div>
            </div>
            <button class="start-screening-btn" onclick="window.location.href='screening.html'">
                START SCREENING
            </button>
        </section>

        <!-- Footer Section -->
        <footer class="footer">
            <div class="disclaimer-box">
                <strong>Disclaimer:</strong>
                This screening tool is for informational purposes only and does not replace professional medical advice. Please consult a healthcare professional for proper diagnosis and treatment.
            </div>
        </footer>
    </div>

    <div id="split-transition" class="split-transition-overlay" style="display: none;">
        <div class="split-left"></div>
        <div class="split-right"></div>
    </div>

    <script>
        const slides = document.querySelectorAll('.carousel-slide');
        const totalSlides = slides.length;
        let currentSlide = 0;
        let slideInterval;
        let isHovered = false;
        let isRotating = true;
        let isTransitioning = false;

        const translations = {
            en: {
                nav: ["Home", "Background", "FAQ", "FEEDBACK"],
                mainTitle: "PNEUMOweb",
                subtitle: "Web-based pneumonia screening system",
                carousel: [
                    "Welcome to PNEUMOweb - A comprehensive pneumonia screening system designed to help assess your risk factors and symptoms.",
                    "Our screening process consists of 19 carefully designed questions covering basic information, symptoms, and risk factors to provide accurate assessment.",
                    "Get instant results with risk level assessment (Low, Moderate, or High) and personalized recommendations based on your responses.",
                    "Your privacy is important to us. All screening data is processed locally and can be saved securely to your device.",
                    "Remember: This tool is for screening purposes only. Always consult with a healthcare professional for proper medical diagnosis and treatment."
                ],
                startBtn: "START SCREENING",
                disclaimer: "This screening tool is for informational purposes only and does not replace professional medical advice. Please consult a healthcare professional for proper diagnosis and treatment."
            },
            fil: {
                nav: ["Bahay", "Background", "Mga Tanong", "Feedback"],
                mainTitle: "PNEUMOweb",
                subtitle: "Web-based na sistema para sa pagsusuri ng pulmonya",
                carousel: [
                    "Maligayang pagdating sa PNEUMOweb - Isang komprehensibong sistema para sa pagsusuri ng panganib at sintomas ng pulmonya.",
                    "Ang aming proseso ng pagsusuri ay binubuo ng 19 na maingat na dinisenyong tanong tungkol sa impormasyon, sintomas, at mga risk factor para sa mas tumpak na pagsusuri.",
                    "Makakakuha ka ng instant na resulta ng antas ng panganib (Mababa, Katamtaman, o Mataas) at mga personalisadong rekomendasyon batay sa iyong mga sagot.",
                    "Mahalaga sa amin ang iyong privacy. Ang lahat ng datos ay pinoproseso lamang sa iyong device at maaaring i-save nang ligtas.",
                    "Paalala: Ang tool na ito ay para lamang sa screening. Kumonsulta pa rin sa doktor para sa tamang medikal na diagnosis at gamutan."
                ],
                startBtn: "SIMULAN ANG SCREENING",
                disclaimer: "Ang tool na ito ay para lamang sa impormasyon at hindi kapalit ng propesyonal na payong medikal. Kumonsulta sa doktor para sa tamang diagnosis at gamutan."
            }
        };

        function translatePage(lang) {
            // Update nav links
            document.querySelectorAll('.nav-link').forEach((link, i) => {
                link.textContent = translations[lang].nav[i];
            });

            // Update main title and subtitle
            document.querySelector('.main-title').textContent = translations[lang].mainTitle;
            document.querySelector('.subtitle').textContent = translations[lang].subtitle;

            // Update carousel
            const slideParagraphs = document.querySelectorAll('.carousel-slide .slide-content p');
            translations[lang].carousel.forEach((text, i) => {
                if (slideParagraphs[i]) slideParagraphs[i].textContent = text;
            });

            // Update button
            document.querySelector('.start-screening-btn').textContent = translations[lang].startBtn;

            // Update disclaimer
            document.querySelector('.disclaimer-box').innerHTML = `<strong>${lang === "en" ? "Disclaimer:" : "Paunawa:"}</strong> ${translations[lang].disclaimer}`;
        }

        function updateSlidePositions() {
            slides.forEach((slide, index) => {
                slide.classList.remove('center', 'left-1', 'left-2', 'right-1', 'right-2');
                let position = (index - currentSlide + totalSlides) % totalSlides;
                switch(position) {
                    case 0: slide.classList.add('center'); break;
                    case 1: slide.classList.add('right-1'); break;
                    case 2: slide.classList.add('right-2'); break;
                    case 3: slide.classList.add('left-2'); break;
                    case 4: slide.classList.add('left-1'); break;
                }
            });
        }

        function nextSlide() {
            if (!isRotating || isTransitioning) return;
            isTransitioning = true;
            currentSlide = (currentSlide + 1) % totalSlides;
            updateSlidePositions();
            setTimeout(() => isTransitioning = false, 700);
        }

        function startRotation() {
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 4000);
        }

        function stopRotation() {
            clearInterval(slideInterval);
        }

        function moveToCenter(targetIndex) {
            if (isTransitioning || targetIndex === currentSlide) return;
            isTransitioning = true;
            stopRotation();
            isRotating = false;
            currentSlide = targetIndex;
            updateSlidePositions();
            setTimeout(() => { isTransitioning = false; }, 700);
            setTimeout(() => { if (!isHovered) { isRotating = true; startRotation(); } }, 5000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            translatePage(document.getElementById('languageSelect').value);
            updateSlidePositions();
            startRotation();

            slides.forEach((slide, index) => {
                slide.addEventListener('mouseenter', () => {
                    if (slide.classList.contains('center')) { isHovered = true; stopRotation(); }
                });
                slide.addEventListener('mouseleave', () => {
                    if (slide.classList.contains('center')) { isHovered = false; if (isRotating) startRotation(); }
                });
                slide.addEventListener('click', () => { moveToCenter(index); });
            });

            document.getElementById('languageSelect').addEventListener('change', function() {
                translatePage(this.value);
            });
        });

        window.addEventListener('resize', () => { if (!isTransitioning) setTimeout(updateSlidePositions, 100); });

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./service-worker.js')
            .then(() => console.log("Service Worker registered"))
            .catch((error) => console.log("Service Worker failed:", error));
        }
    </script>
</body>
</html>

